<div class="min-h-screen bg-gray-900 py-8">
  <!-- Loading State -->
  <div *ngIf="loading" class="container mx-auto px-4 text-center">
    <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"></div>
    <p class="text-white text-lg mt-4">Cargando producto...</p>
  </div>

  <!-- Product Detail -->
  <div *ngIf="!loading && product" class="container mx-auto px-4">
    <!-- Back Button -->
    <button
      (click)="goBack()"
      class="mb-6 inline-flex items-center px-4 py-2 text-orange-500 hover:text-orange-400 transition-colors">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
      Volver a productos
    </button>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Product Images -->
      <div class="space-y-4">
        <!-- Main Image -->
        <div class="relative bg-white rounded-lg overflow-hidden">
          <img
            [src]="getCurrentImage()"
            [alt]="product.title"
            class="w-full h-96 object-cover">

          <!-- Image Navigation Arrows -->
          <button
            *ngIf="product.images && product.images.length > 1"
            (click)="previousImage()"
            class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>

          <button
            *ngIf="product.images && product.images.length > 1"
            (click)="nextImage()"
            class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </button>
        </div>

        <!-- Image Thumbnails -->
        <div *ngIf="product.images && product.images.length > 1" class="flex space-x-2 overflow-x-auto">
          <button
            *ngFor="let image of product.images; let i = index"
            (click)="changeImage(i)"
            class="flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all"
            [class.border-orange-500]="currentImageIndex === i"
            [class.border-gray-300]="currentImageIndex !== i">
            <img [src]="image" [alt]="product.title" class="w-full h-full object-cover">
          </button>
        </div>
      </div>

      <!-- Product Information -->
      <div class="space-y-6">
        <!-- Product Header -->
        <div>
          <h1 class="text-3xl font-bold text-white mb-2">{{ product.title }}</h1>
          <p class="text-orange-400 text-lg">{{ product.brand }}</p>
          <p class="text-gray-400">SKU: {{ product.sku }}</p>
        </div>

        <!-- Price and Stock -->
        <div class="flex items-center space-x-4">
          <span class="text-3xl font-bold text-white">${{ product.price | number }} COP</span>
          <span
            class="px-3 py-1 rounded-full text-sm"
            [class.bg-green-500]="product.inStock"
            [class.bg-red-500]="!product.inStock"
            [class.text-white]="true">
            {{ product.inStock ? 'En stock' : 'Agotado' }}
          </span>
        </div>

        <!-- Description -->
        <div>
          <h3 class="text-xl font-semibold text-white mb-3">Descripción</h3>
          <p class="text-gray-300 leading-relaxed">{{ product.description }}</p>
        </div>

        <!-- Specifications -->
        <div>
          <h3 class="text-xl font-semibold text-white mb-3">Especificaciones</h3>
          <ul class="space-y-2">
            <li *ngFor="let spec of product.specifications" class="text-gray-300 flex items-start">
              <span class="text-orange-500 mr-2">•</span>
              {{ spec }}
            </li>
          </ul>
        </div>

        <!-- Category -->
        <div>
          <span class="text-gray-400">Categoría: </span>
          <span class="text-orange-400">{{ product.category }}</span>
        </div>

        <!-- Add to Cart Button -->
        <button
          (click)="addToCart()"
          [disabled]="!product.inStock"
          class="w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-3 px-6 rounded-lg transition-colors">
          {{ product.inStock ? 'Agregar al carrito' : 'Producto agotado' }}
        </button>

        <!-- Contact for Quote -->
        <button class="w-full bg-transparent border-2 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white font-semibold py-3 px-6 rounded-lg transition-colors">
          Solicitar cotización
        </button>
      </div>
    </div>
  </div>

  <!-- Product Not Found -->
  <div *ngIf="!loading && !product" class="container mx-auto px-4 text-center">
    <h2 class="text-2xl font-bold text-white mb-4">Producto no encontrado</h2>
    <p class="text-gray-400 mb-6">El producto que buscas no existe o ha sido removido.</p>
    <p class="text-gray-500 text-sm mb-6">Serás redirigido a la página de productos en unos segundos...</p>
  </div>
</div>
